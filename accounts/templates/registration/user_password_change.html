{% extends "blog/base.html" %}

{% block content %}
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <div class="well">

                    <h1 class="text-center">Change your password</h1>

                    {% if user.has_usable_password %}
                    <p class="text-center">Please enter your old password, for security's sake, and then enter your<br />
                        new password so we can verify you typed it in correctly.</p>
                    {% endif %}

                    <form role="form" method="post" action="">
                    {% csrf_token %}

                        {% if user.has_usable_password %}
                        <div class="form-group label-floating">
                            <label for="{{ form.old_password.id_for_label }}" class="control-label">Old password</label>
                            <input type="password" class="form-control" name="old_password"
                                id="{{ form.old_password.id_for_label }}" required>
                            <p style="color: red;">{{ form.errors.old_password.as_text }}</p>
                        </div>
                        {% endif %}

                        <div class="form-group label-floating">
                            <label for="{{ form.new_password1.id_for_label }}" class="control-label">New password</label>
                            <input type="password" class="form-control" name="new_password1"
                                id="{{ form.new_password1.id_for_label }}" required>
                            <p style="color: red;">{{ form.errors.new_password1.as_text }}</p>
                        </div>

                        <div class="form-group label-floating">
                            <label for="{{ form.new_password2.id_for_label }}" class="control-label">Confirm password</label>
                            <input type="password" class="form-control" name="new_password2"
                                id="{{ form.new_password2.id_for_label }}" required>
                            <p style="color: red;">{{ form.errors.new_password2.as_text }}</p>
                        </div>

                        <div class="form-group">
                            <button type="submit" class="btn btn-primary btn-raised btn-block"
                                value="Change my password">Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

{% endblock %}
